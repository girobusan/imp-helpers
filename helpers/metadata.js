(()=>{const o=globalThis.impHelpers;let t,a,n=!0,e=null;function i(o,a){try{t[o]=a}catch{console.error("Can not write",a,"to",o)}}function l(){if(!e||!e.baseURL)return;let o=window.location.pathname.split("/").pop();e.localPathLength&&(o=(window.location.origin+window.location.pathname).substring(e.localPathLength));const t=e.baseURL.endsWith("/")?e.baseURL:e.baseURL+"/";console.log("Metadata: Set url to",t+o),i("url",t+o)}o.register("metadata",{init:function(o,e){a=e;const i=window.location.origin+window.location.pathname;!e&&console.info("Metadata: This page localPathLength is",i.lastIndexOf("/")+1),function(){let o=window.impData;if(!o)return n=!1,void console.log("Metadata: Data module is not loaded.");o.page_meta||(console.info("No metadata found, making one"),o.page_meta={}),t=o.page_meta}()},autoload:function(o){e=o,l()}},"json",(function(o){return console.log("postprocess metadata"),i("mdate",new Date),l(),o}))})();