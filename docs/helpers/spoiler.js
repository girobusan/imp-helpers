(()=>{const t="spoiler";let e;function r(e,r,l){return l&&"html5"!==l?`<div data-ihelper="${t}" data-type="${l}"><div class="spoiler_title" style="cursor:pointer">${e.label||"Spoiler:"}</div>\n<div class="spoiler_text" style="opacity:0.6">${e.text.replace(/\n/," ")}</div>\n</div>`:`<div><details><summary>${e.label||"Spoiler:"}</summary>${e.text}</details></div>`}function l(t,e){return function(){"true"===e.dataset.shown?(e.style.backgroundColor="gray",e.style.color="gray",e.dataset.shown=!1):(e.style.backgroundColor="inherit",e.style.color="inherit",e.style.transition="all .5s",e.dataset.shown=!0)}}function s(t,e){return e.style.transition="all .3s",function(){if("true"===e.dataset.shown)e.dataset.shown=!1,e.style.height=0,e.style.overflow="hidden";else{e.style.overflow="auto";let t=e.scrollHeight;e.style.height=t+8+"px",e.dataset.shown=!0}}}globalThis.impHelpers.register(t,{init:function(t){e=t},render:r,preview:function(t,e,l){return r(t,0,l)},animate:function(t){if(!t)return;if(t.dataset.ready)return;const e=t.querySelector(".spoiler_title"),r=t.querySelector(".spoiler_text");e.style.fontWeight="bold",r.dataset.shown=!1,r.style.opacity=1,"mask"===t.dataset.type&&(r.style.backgroundColor="gray",r.style.color="gray",r.style.borderRadius="2px",e.addEventListener("click",l(0,r)),r.addEventListener("click",l(0,r))),"shrink"===t.dataset.type&&(r.style.borderBottom="2px solid currentColor",r.style.height=0,r.style.overflow="hidden",e.addEventListener("click",s(0,r)),r.addEventListener("click",s(0,r))),t.dataset.ready=!0}},"yaml")})();